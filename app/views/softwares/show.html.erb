<div class="container-fluid">

  <h1><%= @software.name %></h1>

  <div class="show-header">

    <div class="editor">
      <b>Editor : </b>
      <%= @software.editor.name %>
    </div>

    <div class="right-column">
      <label class="control-label">Version : </label>
      <%= select_tag :version, options_for_select(@versions.all.map{|v|[v.name, v.id]}), {class: "form-control", id: "select-version"} %>
      <br>
      <%= link_to 'New version', new_software_version_path(software_id: @software.id), {:class => 'btn btn-large btn-primary'} %>
    </div>
  </div>

  <hr>

  <!--
  TODO:
  Get version's info in ajax.
  The version displayed must be the one selected.
  -->

  <p>
    <strong>Software:</strong>
    <%= @software.name %>
  </p>

  <p>
    <strong>Version:</strong>
    version
  </p>

  <%= link_to 'Back', softwares_path %>
  <%= link_to 'Edit', edit_software_path(@software) %>
</div>

<script>
  $("#select-version").change(function() {
      console.log("changed");
      var version_id = $(this).val();

      $.ajax({
          method: "POST",
          url: "/get-version-details",
          data: {
              id: version_id
          }
      })
          .done(function(returnedDatas){
              console.log(returnedDatas);
          })
  })
</script>